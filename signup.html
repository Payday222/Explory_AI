<!DOCTYPE html>
<head>
    <title>Sign Up</title>
</head>

<body>
    <form id="signUp">
        <label for="email">Email:</label>
        <input type="text" id="email" name="Email"><br><br>
        <label for="password">Password</label>
        <input type="password" id="password" name="Password"><br><br>
        <label for="conf-password">Confirm Password</label>
        <input type="password" id="conf-password" name="Conf-Password"><br><br>
    </form>
    <p id="result"></p>
    <p id="email-result"></p>
    <button id="submit" style="color: green;">Submit</button>
    <script>
        let email = document.getElementById('email');
        let password = document.getElementById('password');
        let password1 = document.getElementById('conf-password');
        let result = document.getElementById('result');
        let emailResult = document.getElementById('email-result');
        let submit = document.getElementById('submit');
    
        function checkForCharacter() {
            const inputValue = email.value;
            if (inputValue.includes('@')) {
                emailResult.textContent = "Valid email";
                emailResult.style.color = "green";
            } else {
                emailResult.textContent = "Invalid email";
                emailResult.style.color = "red";
            }
        }
    
        function comparePass() {
            const pass = password.value;
            const pass1 = password1.value;
            if (pass !== 0 && pass1 !== 0) {
                if (pass1 === pass) {
                    result.textContent = "Passwords Match";
                    result.style.color = "green";
                } else {
                    result.textContent = "Passwords do not match";
                    result.style.color = "red";
                }
            }
        }
    
        function submitForm() {
    const emailValue = email.value;
    const pass = password.value;
    const pass1 = password1.value;

    if (emailValue.includes('@') && pass === pass1 && pass1 !== '') {
        result.textContent = "Form sent!!!!!!!"; // integrity test

        fetch('http://localhost:3001/send-email', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                email: emailValue,
                password: pass
            })
        })
        .then(response => response.json())
        .then(data => {
            console.log("Works");
        })
        .catch((error) => {
            console.error(error);
            alert("Not work" + error);
        });
    }
}

    
        password.addEventListener('input', comparePass);
        password1.addEventListener('input', comparePass);
        email.addEventListener('input', checkForCharacter);
        submit.addEventListener('click', submitForm);
    </script>
    
</body>


